---
ID: 28
post_title: '<!-- Application viewer -->'
author: admin
post_excerpt: ""
layout: page
permalink: >
  https://smallprojects.info/ethics/view-application/
published: true
post_date: 2018-09-15 08:45:47
---
<div id="pl-28"  class="panel-layout" ><div id="pg-28-0"  class="panel-grid panel-no-style"  data-style="{&quot;background_image_attachment&quot;:false,&quot;background_display&quot;:&quot;tile&quot;,&quot;cell_alignment&quot;:&quot;flex-start&quot;}" ><div id="pgc-28-0-0"  class="panel-grid-cell"  data-weight="1" ><div id="panel-28-0-0-0" class="so-panel widget widget_execphp panel-first-child" data-index="0" data-style="{&quot;background_image_attachment&quot;:false,&quot;background_display&quot;:&quot;tile&quot;}" >[siteorigin_widget class="PHP_Code_Widget"]<input type="hidden" value="{&quot;instance&quot;:{&quot;title&quot;:&quot;&quot;,&quot;text&quot;:&quot;&lt;?php\n  \/\/ You will need to fix this if $key is equal to NULL the data wont display...  \n  $key = $_GET[\&quot;key\&quot;];\n  global $wpdb;\n  $results = $wpdb-&gt;get_results(\&quot;SELECT * FROM projects\&quot;);\n  $row = $results[$key];\n?&gt; \n\n&lt;h1 id=\&quot;top\&quot;&gt;&lt;?=$row-&gt;id?&gt; - &lt;?=$row-&gt;name?&gt;&lt;\/h1&gt;\n&lt;h1&gt;&lt;?=$row-&gt;type?&gt; ethics (&lt;?=$row-&gt;status?&gt;)&lt;\/h1&gt;&lt;br\/&gt;\n\n&lt;h2 id=\&quot;description\&quot;&gt;Description&lt;\/h2&gt;\n&lt;?=$row-&gt;description?&gt;&lt;br\/&gt;&lt;br\/&gt;\n\n&lt;h2 id=\&quot;investigator\&quot;&gt;Approved investigators&lt;\/h2&gt;\n&lt;table class=\&quot;base-table\&quot;&gt;\n    &lt;td&gt;Lead investigator&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;lead_investigator?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Other approved investigators&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;approved_investigators?&gt;&lt;\/td&gt; \n    &lt;tr&gt;\n&lt;\/table&gt;\n\n&lt;h2 id=\&quot;period\&quot;&gt;Approval period&lt;\/h2&gt;\n&lt;table class=\&quot;base-table\&quot;&gt;\n    &lt;td&gt;Commencement date&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;start_date?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Expiration date&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;end_date?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Completion date&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;completion_date?&gt;&lt;\/td&gt; \n    &lt;\/tr&gt;\n&lt;\/table&gt;\n\n&lt;h2 id=\&quot;contact\&quot;&gt;Contact details&lt;\/h2&gt;\n&lt;table class=\&quot;base-table\&quot;&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Contact name&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;contact_name?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Contact email&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;contact_email?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Contact phone&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;contact_phone?&gt;&lt;\/td&gt; \n    &lt;\/tr&gt;\n&lt;\/table&gt;\n\n&lt;h2 id=\&quot;committee\&quot;&gt;Ethics committee details&lt;\/h2&gt;\n&lt;table class=\&quot;base-table\&quot;&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Primary ethics committee&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;committee?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Annual report date&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;report_date?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n&lt;\/table&gt;\n\n&lt;h2 id=\&quot;notes\&quot;&gt;Project notes&lt;\/h2&gt;\n&lt;?=$row-&gt;notes?&gt;&quot;,&quot;filter&quot;:false},&quot;args&quot;:{&quot;before_widget&quot;:&quot;&lt;div id=\&quot;panel-28-0-0-0\&quot; class=\&quot;so-panel widget widget_execphp panel-first-child\&quot; data-index=\&quot;0\&quot; data-style=\&quot;{&amp;quot;background_image_attachment&amp;quot;:false,&amp;quot;background_display&amp;quot;:&amp;quot;tile&amp;quot;}\&quot; &gt;&quot;,&quot;after_widget&quot;:&quot;&lt;\/div&gt;&quot;,&quot;before_title&quot;:&quot;&lt;h3 class=\&quot;widget-title\&quot;&gt;&quot;,&quot;after_title&quot;:&quot;&lt;\/h3&gt;&quot;,&quot;widget_id&quot;:&quot;widget-0-0-0&quot;}}" />[/siteorigin_widget]</div><div id="panel-28-0-0-1" class="so-panel widget widget_execphp" data-index="1" data-style="{&quot;background_image_attachment&quot;:false,&quot;background_display&quot;:&quot;tile&quot;}" >[siteorigin_widget class="PHP_Code_Widget"]<input type="hidden" value="{&quot;instance&quot;:{&quot;title&quot;:&quot;&quot;,&quot;text&quot;:&quot;&lt;h2&gt;Dependent Applications&lt;\/h2&gt;\n\nTODO: Search the database for child applications\n\n&lt;h2&gt;Parent Applications&lt;\/h2&gt;\n\nTODO: List the parent applications listed against us\n&quot;,&quot;filter&quot;:false},&quot;args&quot;:{&quot;before_widget&quot;:&quot;&lt;div id=\&quot;panel-28-0-0-1\&quot; class=\&quot;so-panel widget widget_execphp\&quot; data-index=\&quot;1\&quot; data-style=\&quot;{&amp;quot;background_image_attachment&amp;quot;:false,&amp;quot;background_display&amp;quot;:&amp;quot;tile&amp;quot;}\&quot; &gt;&quot;,&quot;after_widget&quot;:&quot;&lt;\/div&gt;&quot;,&quot;before_title&quot;:&quot;&lt;h3 class=\&quot;widget-title\&quot;&gt;&quot;,&quot;after_title&quot;:&quot;&lt;\/h3&gt;&quot;,&quot;widget_id&quot;:&quot;widget-0-0-1&quot;}}" />[/siteorigin_widget]</div><div id="panel-28-0-0-2" class="so-panel widget widget_execphp" data-index="2" data-style="{&quot;background_image_attachment&quot;:false,&quot;background_display&quot;:&quot;tile&quot;}" >[siteorigin_widget class="PHP_Code_Widget"]<input type="hidden" value="{&quot;instance&quot;:{&quot;title&quot;:&quot;&quot;,&quot;text&quot;:&quot;&lt;?php $app_id = $_GET[&#039;key&#039;];\n$uploads = wp_upload_dir();\n?&gt;\n\n&lt;h2 id=\&quot;attachments\&quot;&gt;Attachements&lt;\/h2&gt;\n&lt;a href=\&quot;.\/upload-attachment?applicationid=&lt;?=$app_id?&gt;\&quot;&gt;Upload Attachment&lt;\/a&gt;\n\n&lt;?php $attachments = et_fetch_attachments($app_id);\n\nforeach( $attachments as $key =&gt; $row ) {\n\n?&gt;\n&lt;table class=\&quot;base-table\&quot;&gt;\n    &lt;tr&gt;  \n    &lt;td&gt;Document type&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;class?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Attachment name&lt;\/td&gt;\n    &lt;td&gt;&lt;a href=\&quot;&lt;?=esc_url($uploads[&#039;baseurl&#039;])?&gt;\/Array\/humans.txt\&quot; download&gt;&lt;?=$row-&gt;name?&gt;&lt;\/a&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;  \n    &lt;td&gt;Description&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;description?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Document dated&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;document_date?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Date uploaded&lt;\/td&gt;\n    &lt;td&gt;&lt;?=$row-&gt;date_uploaded?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;Document uploader&lt;\/td&gt;\n    &lt;td&gt;&lt;?php\n\n$user_id = $row-&gt;uploader;\n$user_info = get_userdata($user_id);\necho $user_info-&gt;first_name .\&quot; \&quot;. $user_info-&gt;last_name;\n\n?&gt;&lt;\/td&gt;\n    &lt;\/tr&gt;\n&lt;\/table&gt;\n  \n&lt;?php\n}\n?&gt;&quot;,&quot;filter&quot;:false},&quot;args&quot;:{&quot;before_widget&quot;:&quot;&lt;div id=\&quot;panel-28-0-0-2\&quot; class=\&quot;so-panel widget widget_execphp\&quot; data-index=\&quot;2\&quot; data-style=\&quot;{&amp;quot;background_image_attachment&amp;quot;:false,&amp;quot;background_display&amp;quot;:&amp;quot;tile&amp;quot;}\&quot; &gt;&quot;,&quot;after_widget&quot;:&quot;&lt;\/div&gt;&quot;,&quot;before_title&quot;:&quot;&lt;h3 class=\&quot;widget-title\&quot;&gt;&quot;,&quot;after_title&quot;:&quot;&lt;\/h3&gt;&quot;,&quot;widget_id&quot;:&quot;widget-0-0-2&quot;}}" />[/siteorigin_widget]</div><div id="panel-28-0-0-3" class="so-panel widget widget_execphp panel-last-child" data-index="3" data-style="{&quot;background_image_attachment&quot;:false,&quot;background_display&quot;:&quot;tile&quot;}" >[siteorigin_widget class="PHP_Code_Widget"]<input type="hidden" value="{&quot;instance&quot;:{&quot;title&quot;:&quot;&quot;,&quot;text&quot;:&quot;&lt;h2 id=\&quot;history\&quot;&gt;Application History&lt;\/h2&gt;\n\nTODO: List all changes made to this record.&quot;,&quot;filter&quot;:false},&quot;args&quot;:{&quot;before_widget&quot;:&quot;&lt;div id=\&quot;panel-28-0-0-3\&quot; class=\&quot;so-panel widget widget_execphp panel-last-child\&quot; data-index=\&quot;3\&quot; data-style=\&quot;{&amp;quot;background_image_attachment&amp;quot;:false,&amp;quot;background_display&amp;quot;:&amp;quot;tile&amp;quot;}\&quot; &gt;&quot;,&quot;after_widget&quot;:&quot;&lt;\/div&gt;&quot;,&quot;before_title&quot;:&quot;&lt;h3 class=\&quot;widget-title\&quot;&gt;&quot;,&quot;after_title&quot;:&quot;&lt;\/h3&gt;&quot;,&quot;widget_id&quot;:&quot;widget-0-0-3&quot;}}" />[/siteorigin_widget]</div></div></div></div>